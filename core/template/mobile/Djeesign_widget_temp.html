<div class="eqLogic eqLogic-widget allowResize allowReorderCmd #custom_layout# #eqLogic_class#" data-eqType="#eqType#"
  data-eqLogic_id="#id#" data-eqLogic_uid="#uid#" data-version="#version#"
  data-translate-category="#translate_category#" data-category="#category#" data-tags="#tags#"
  style="width: #width#;height: #height#;#style#">

  <div class="classDjeesignWidget">
  </div>

  <div class="classDjeesignWidgetFondTitre">
  </div>

  <div class="classDjeesignWidgetTitre">
    <span id="idTitre#uid#">Titre</span>
  </div>

  <div class="classDjeesignWidgetContenu">
    <div id="showTemperature#uid#">
      <span class="classDjeesignWidgetLigne">
        <img id="idImgTemperature#uid#" src="plugins/Djeesign/core/img/thermometer.svg">
        <span id="idTemperature#uid#">??</span>
      </span>
    </div>

    <div id="showHumidite#uid#">
      <span class="classDjeesignWidgetLigne">
        <img id="idImgHumidite#uid#" src="plugins/Djeesign/core/img/water-percent.svg">
        <span id="idHumidite#uid#">??</span>
      </span>
    </div>
  </div>

  <script type="text/javascript">

    jeedom.cmd.addUpdateFunction('#idTemperature#', function (_options) {

      if (_options.value == 9999) {
        if (is_object(cmd = document.querySelector('#showTemperature#uid#'))) {
          cmd.style.display = 'none';
        }
      } else {
        if (is_object(cmd = document.querySelector('#showTemperature#uid#'))) {
          cmd.style.display = 'block';
        }
        if (is_object(cmd = document.querySelector('#idTemperature#uid#'))) {

          cmd.innerHTML = _options.value + '°';

          if (is_object(cmd = document.querySelector('#showTemperature#uid# .classDjeesignWidgetLigne'))) {
            cmd.setAttribute('title', 'Date de valeur : ' + _options.valueDate + '<br>Date de collecte : ' + _options.collectDate);
          }

          if ((_options.value < #temperatureMin#) ||
            (_options.value > #temperatureMax#)) {
            cmd.style.color =  "red";
          } else {
            cmd.style.color = "#clrTemperature#";
          }
        }
      }
    });
    jeedom.cmd.refreshValue([{ cmd_id: '#idTemperature#', value: '#valTemperature#', display_value: '#valTemperature#', valueDate: '#vdTemperature#', collectDate: '#cdTemperature#' }]);

    jeedom.cmd.addUpdateFunction('#idHumidite#', function (_options) {

      if (_options.value == 9999) {
        if (is_object(cmd = document.querySelector('#showHumidite#uid#'))) {
          cmd.style.display = 'none';
        }
      } else {
        if (is_object(cmd = document.querySelector('#showHumidite#uid#'))) {
          cmd.style.display = 'block';
        }
        if (is_object(cmd = document.querySelector('#idHumidite#uid#'))) {

          cmd.innerHTML = _options.value + '°';

          if (is_object(cmd = document.querySelector('#showHumidite#uid# .classDjeesignWidgetLigne'))) {
            cmd.setAttribute('title', 'Date de valeur : ' + _options.valueDate + '<br>Date de collecte : ' + _options.collectDate);
          }

          if ((_options.value < #humiditeMin#) ||
            (_options.value > #humiditeMax#)) {
            cmd.style.color =  "red";
          } else {
            cmd.style.color = "#clrHumidite#";
          }
        }
      }
    });
    jeedom.cmd.refreshValue([{ cmd_id: '#idHumidite#', value: '#valHumidite#', display_value: '#valHumidite#', valueDate: '#vdHumidite#', collectDate: '#cdHumidite#' }]);

    if (is_object(cmd = document.querySelector('#idTitre#uid#'))) {
      cmd.innerHTML = "#titreWidget#";
      cmd.style.color = "#clrTitre#";
    }

  </script>

</div>

<link rel="stylesheet" href="plugins/Djeesign/core/template/dashboard/Djeesign_#visuel#.css" />